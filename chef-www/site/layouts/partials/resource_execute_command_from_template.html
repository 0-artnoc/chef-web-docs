<p>The following example shows how to set up IPv4 packet forwarding using the <strong>execute</strong> resource to run a command named <code>forward_ipv4</code> that uses a template defined by the <strong>template</strong> resource:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb1-1"><a href="#cb1-1"></a>execute <span class="st">&#39;forward_ipv4&#39;</span> <span class="kw">do</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>  command <span class="st">&#39;echo &gt; /proc/.../ipv4/ip_forward&#39;</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>  action <span class="st">:nothing</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="kw">end</span></span>
<span id="cb1-5"><a href="#cb1-5"></a></span>
<span id="cb1-6"><a href="#cb1-6"></a>template <span class="st">&#39;/etc/file_name.conf&#39;</span> <span class="kw">do</span></span>
<span id="cb1-7"><a href="#cb1-7"></a>  source <span class="st">&#39;routing/file_name.conf.erb&#39;</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>  notifies <span class="st">:run</span>, <span class="st">&#39;execute[forward_ipv4]&#39;</span>, <span class="st">:delayed</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="kw">end</span></span></code></pre></div>
<p>where the <code>command</code> property for the <strong>execute</strong> resource contains the command that is to be run and the <code>source</code> property for the <strong>template</strong> resource specifies which template to use. The <code>notifies</code> property for the <strong>template</strong> specifies that the <code>execute[forward_ipv4]</code> (which is defined by the <strong>execute</strong> resource) should be queued up and run at the end of a Chef Infra Client run.</p>
